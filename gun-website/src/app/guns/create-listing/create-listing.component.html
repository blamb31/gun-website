<div class="d-flex">
  <div class="w-50 d-flex flex-column align-items-start p-5">
    <h1 class="title w-50">{{ gunId ? "Gun Info" : "List a Gun" }}</h1>
    <div class="w-50 d-flex justify-content-center mt-5">
      <form [formGroup]="createGunListingForm" class="w-75">
        <div class="mt-3">
          <label for="name">Gun Name</label>
          <input type="text" class="form-control" formControlName="name" />
        </div>
        <div class="mt-3">
          <label for="price">Price</label>
          <input type="number" class="form-control" formControlName="price" />
        </div>

        <div class="mt-3">
          <label for="address">Address</label>
          <input type="text" class="form-control" formControlName="address" />
        </div>
        <div class="mt-3">
          <label for="city">City</label>
          <input type="text" class="form-control" formControlName="city" />
        </div>
        <div class="mt-3">
          <label for="state">State</label>
          <input type="text" class="form-control" formControlName="state" />
        </div>
        <div class="mt-3">
          <label for="zip">Zip Code</label>
          <input type="text" class="form-control" formControlName="zip" />
        </div>

        <button
          *ngIf="!gunId"
          [disabled]="!createGunListingForm.valid"
          class="btn btn-primary mt-5"
          (click)="saveGunListing()"
        >
          {{ createGunListingForm.valid }}
          Post Listing
        </button>
        <button
          *ngIf="gunId"
          [disabled]="!createGunListingForm.valid"
          class="btn btn-primary mt-5"
          (click)="updateGunListing()"
        >
          {{ createGunListingForm.valid }}
          Update Listing
        </button>
      </form>
    </div>
  </div>
  <div class="w-50 px-5 my-5 listings-table">
    <h1 class="title w-50">Your Listings</h1>
    <div>
      <div
        class="my-5 px-5 d-flex align-items-center"
        *ngFor="let gun of myGuns$ | async"
      >
        <div class="mr-5">
          <img [src]="gun.picture || imgUrl" />
        </div>
        <div class="d-flex flex-column flex-wrap">
          <p>{{ gun.name }}</p>
          <p>Price: {{ gun.price.$numberDecimal | currency: "USD" }}</p>
          <p>Date Posted: {{ gun.dateAdded | date }}</p>
        </div>
        <hr />
      </div>
    </div>
  </div>
</div>
